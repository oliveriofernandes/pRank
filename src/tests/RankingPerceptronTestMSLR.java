package tests;

import java.util.ArrayList;
import java.util.List;

import org.junit.Assert;
import org.junit.Before;
import org.junit.Test;

import core.RankPerceptron;

public class RankingPerceptronTestMSLR {
	double doc0[] = {3.0,  3.0,  0.0,  0.0,  3.0,  1.0,  1.0,  0.0,  0.0,  1.0,  156.0,  4.0,  0.0,  7.0,  167.0,  6.931275,  22.076928,  19.673353,  22.255383,  6.926551,  3.0,  3.0,  0.0,  0.0,  6.0,  1.0,  1.0,  0.0,  0.0,  2.0,  1.0,  1.0,  0.0,  0.0,  2.0,  1.0,  1.0,  0.0,  0.0,  2.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.019231,  0.75,  0.0,  0.0,  0.035928,  0.00641,  0.25,  0.0,  0.0,  0.011976,  0.00641,  0.25,  0.0,  0.0,  0.011976,  0.00641,  0.25,  0.0,  0.0,  0.011976,  0.0,  0.0,  0.0,  0.0,  0.0,  6.931275,  22.076928,  0.0,  0.0,  13.853103,  1.152128,  5.99246,  0.0,  0.0,  2.297197,  3.078917,  8.517343,  0.0,  0.0,  6.156595,  2.310425,  7.358976,  0.0,  0.0,  4.617701,  0.694726,  1.084169,  0.0,  0.0,  2.78795,  1.0,  1.0,  0.0,  0.0,  1.0,  1.0,  1.0,  0.0,  0.0,  1.0,  12.941469,  20.59276,  0.0,  0.0,  16.766961,  -18.567793,  -7.760072,  -20.838749,  -25.436074,  -14.518523,  -21.710022,  -21.339609,  -24.497864,  -27.690319,  -20.203779,  -15.449379,  -4.474452,  -23.634899,  -28.119826,  -13.581932,  3.0,  62.0,  1.1089534E7,  2.0,  116.0,  64034.0,  13.0,  3.0,  0.0,  0.0,  0.0,  2.0};
	double doc1[] = {3.0,  0.0,  3.0,  0.0,  3.0,  1.0,  0.0,  1.0,  0.0,  1.0,  406.0,  0.0,  5.0,  5.0,  416.0,  6.931275,  22.076928,  19.673353,  22.255383,  6.926551,  28.0,  0.0,  3.0,  0.0,  31.0,  8.0,  0.0,  1.0,  0.0,  9.0,  10.0,  0.0,  1.0,  0.0,  11.0,  9.333333,  0.0,  1.0,  0.0,  10.333333,  0.888889,  0.0,  0.0,  0.0,  0.888889,  0.068966,  0.0,  0.6,  0.0,  0.074519,  0.019704,  0.0,  0.2,  0.0,  0.021635,  0.024631,  0.0,  0.2,  0.0,  0.026442,  0.022989,  0.0,  0.2,  0.0,  0.02484,  5.0E-6,  0.0,  0.0,  0.0,  5.0E-6,  63.912287,  0.0,  19.673353,  0.0,  70.792754,  11.521285,  0.0,  5.373163,  0.0,  12.634581,  30.789171,  0.0,  7.985784,  0.0,  33.861273,  21.304096,  0.0,  6.557784,  0.0,  23.597585,  61.919565,  0.0,  1.167248,  0.0,  75.339929,  1.0,  0.0,  1.0,  0.0,  1.0,  0.994425,  0.0,  1.0,  0.0,  0.995455,  20.885118,  0.0,  24.233365,  0.0,  21.161666,  -11.55585,  -21.242171,  -8.429024,  -25.436074,  -11.297811,  -16.487275,  -24.805464,  -21.461317,  -27.690319,  -16.208808,  -11.646141,  -24.041386,  -5.14386,  -28.119826,  -11.411068,  2.0,  54.0,  1.1089534E7,  2.0,  124.0,  64034.0,  1.0,  2.0,  0.0,  0.0,  0.0,  2.0};
	
	double doc2[] = { 3.0,  0.0,  2.0,  0.0,  3.0,  1.0,  0.0,  0.666667,  0.0,  1.0,  146.0,  0.0,  3.0,  7.0,  156.0,  6.931275,  22.076928,  19.673353,  22.255383,  6.926551,  14.0,  0.0,  2.0,  0.0,  16.0,  1.0,  0.0,  0.0,  0.0,  1.0,  7.0,  0.0,  1.0,  0.0,  8.0,  4.666667,  0.0,  0.666667,  0.0,  5.333333,  6.888889,  0.0,  0.222222,  0.0,  9.555556,  0.09589,  0.0,  0.666667,  0.0,  0.102564,  0.006849,  0.0,  0.0,  0.0,  0.00641,  0.047945,  0.0,  0.333333,  0.0,  0.051282,  0.031963,  0.0,  0.222222,  0.0,  0.034188,  3.23E-4,  0.0,  0.024691,  0.0,  3.93E-4,  29.238631,  0.0,  11.687569,  0.0,  33.436525,  2.700229,  0.0,  0.0,  0.0,  2.699655,  18.473503,  0.0,  6.314406,  0.0,  21.548083,  9.74621,  0.0,  3.895856,  0.0,  11.145508,  42.879431,  0.0,  7.736505,  0.0,  61.124916,  1.0,  0.0,  0.0,  0.0,  1.0,  0.851903,  0.0,  0.720414,  0.0,  0.842789,  18.140878,  0.0,  17.748073,  0.0,  18.279205,  -12.609065,  -21.242171,  -14.935056,  -25.436074,  -12.487989,  -18.832941,  -24.805464,  -23.925663,  -27.690319,  -18.589543,  -11.525277,  -24.041386,  -14.689844,  -28.119826,  -11.436378,  3.0,  45.0,  3.0,  1.0,  124.0,  3344.0,  14.0,  67.0,  0.0,  0.0,  0.0,  0.0};
	double doc3[] = { 3.0,  0.0,  3.0,  0.0,  3.0,  1.0,  0.0,  1.0,  0.0,  1.0,  287.0,  1.0,  4.0,  7.0,  299.0,  6.931275,  22.076928,  19.673353,  22.255383,  6.926551,  7.0,  0.0,  3.0,  0.0,  10.0,  2.0,  0.0,  1.0,  0.0,  3.0,  3.0,  0.0,  1.0,  0.0,  4.0,  2.333333,  0.0,  1.0,  0.0,  3.333333,  0.222222,  0.0,  0.0,  0.0,  0.222222,  0.02439,  0.0,  0.75,  0.0,  0.033445,  0.006969,  0.0,  0.25,  0.0,  0.010033,  0.010453,  0.0,  0.25,  0.0,  0.013378,  0.00813,  0.0,  0.25,  0.0,  0.011148,  3.0E-6,  0.0,  0.0,  0.0,  2.0E-6,  15.014677,  0.0,  19.673353,  0.0,  21.928252,  3.456385,  0.0,  5.373163,  0.0,  4.594393,  6.157834,  0.0,  7.985784,  0.0,  9.234893,  5.004892,  0.0,  6.557784,  0.0,  7.309417,  1.29454,  0.0,  1.167248,  0.0,  3.900733,  1.0,  0.0,  1.0,  0.0,  1.0,  0.989585,  0.0,  1.0,  0.0,  0.995185,  15.572998,  0.0,  26.759999,  0.0,  17.53163,  -15.55564,  -21.242171,  -7.76183,  -25.436074,  -14.198901,  -20.103511,  -24.805464,  -21.45982,  -27.690319,  -19.180736,  -14.798285,  -24.041386,  -4.474536,  -28.119826,  -13.825417,  3.0,  56.0,  1.1089534E7,  13.0,  123.0,  63933.0,  1.0,  3.0,  0.0,  0.0,  0.0,  2.0};
	double doc4[] = {3.0,  0.0,  3.0,  0.0,  3.0,  1.0,  0.0,  1.0,  0.0,  1.0,  2009.0,  2.0,  4.0,  7.0,  2022.0,  6.931275,  22.076928,  19.673353,  22.255383,  6.926551,  8.0,  0.0,  3.0,  0.0,  11.0,  2.0,  0.0,  1.0,  0.0,  3.0,  3.0,  0.0,  1.0,  0.0,  4.0,  2.666667,  0.0,  1.0,  0.0,  3.666667,  0.222222,  0.0,  0.0,  0.0,  0.222222,  0.003982,  0.0,  0.75,  0.0,  0.00544,  9.96E-4,  0.0,  0.25,  0.0,  0.001484,  0.001493,  0.0,  0.25,  0.0,  0.001978,  0.001327,  0.0,  0.25,  0.0,  0.001813,  0.0,  0.0,  0.0,  0.0,  0.0,  17.714906,  0.0,  19.673353,  0.0,  24.627908,  3.456385,  0.0,  5.373163,  0.0,  4.594393,  8.100687,  0.0,  7.985784,  0.0,  10.798622,  5.904969,  0.0,  6.557784,  0.0,  8.209303,  3.626893,  0.0,  1.167248,  0.0,  6.941327,  1.0,  0.0,  1.0,  0.0,  1.0,  0.980551,  0.0,  1.0,  0.0,  0.989938,  7.802556,  0.0,  26.759999,  0.0,  9.749707,  -20.673887,  -21.242171,  -7.76183,  -25.436074,  -19.469471,  -21.419394,  -24.805464,  -21.45982,  -27.690319,  -20.58994,  -20.168345,  -24.041386,  -4.474536,  -28.119826,  -19.226044,  3.0,  64.0,  5.0,  7.0,  256.0,  49697.0,  1.0,  13.0,  0.0,  0.0,  0.0,  1.0};
	
	double doc5[] = {3.0,  0.0,  3.0,  0.0,  3.0,  1.0,  0.0,  1.0,  0.0,  1.0,  935.0,  3.0,  4.0,  7.0,  949.0,  6.931275,  22.076928,  19.673353,  22.255383,  6.926551,  22.0,  0.0,  3.0,  0.0,  25.0,  2.0,  0.0,  1.0,  0.0,  3.0,  11.0,  0.0,  1.0,  0.0,  12.0,  7.333333,  0.0,  1.0,  0.0,  8.333333,  14.888889,  0.0,  0.0,  0.0,  14.888889,  0.023529,  0.0,  0.75,  0.0,  0.026344,  0.002139,  0.0,  0.25,  0.0,  0.003161,  0.011765,  0.0,  0.25,  0.0,  0.012645,  0.007843,  0.0,  0.25,  0.0,  0.008781,  1.7E-5,  0.0,  0.0,  0.0,  1.7E-5,  45.784125,  0.0,  19.673353,  0.0,  52.665121,  5.400458,  0.0,  5.373163,  0.0,  8.098966,  27.710254,  0.0,  7.985784,  0.0,  30.782976,  15.261375,  0.0,  6.557784,  0.0,  17.55504,  86.303274,  0.0,  1.167248,  0.0,  92.87418,  1.0,  0.0,  1.0,  0.0,  1.0,  0.871319,  0.0,  1.0,  0.0,  0.898802,  15.468397,  0.0,  26.759999,  0.0,  16.692247,  -15.755644,  -21.242171,  -7.76183,  -25.436074,  -15.038405,  -18.401835,  -24.805464,  -21.45982,  -27.690319,  -17.869366,  -15.535053,  -24.041386,  -4.474536,  -28.119826,  -14.984541,  3.0,  62.0,  6.0,  7.0,  210.0,  49923.0,  5.0,  15.0,  0.0,  0.0,  0.0,  1.0};
	double doc6[] = {3.0,  0.0,  3.0,  0.0,  3.0,  1.0,  0.0,  1.0,  0.0,  1.0,  1363.0,  4.0,  4.0,  7.0,  1378.0,  6.931275,  22.076928,  19.673353,  22.255383,  6.926551,  22.0,  0.0,  3.0,  0.0,  25.0,  2.0,  0.0,  1.0,  0.0,  3.0,  10.0,  0.0,  1.0,  0.0,  11.0,  7.333333,  0.0,  1.0,  0.0,  8.333333,  14.222222,  0.0,  0.0,  0.0,  14.222222,  0.016141,  0.0,  0.75,  0.0,  0.018142,  0.001467,  0.0,  0.25,  0.0,  0.002177,  0.007337,  0.0,  0.25,  0.0,  0.007983,  0.00538,  0.0,  0.25,  0.0,  0.006047,  8.0E-6,  0.0,  0.0,  0.0,  7.0E-6,  47.710914,  0.0,  19.673353,  0.0,  54.594821,  5.400458,  0.0,  5.373163,  0.0,  8.098966,  30.789171,  0.0,  7.985784,  0.0,  33.861273,  15.903638,  0.0,  6.557784,  0.0,  18.198274,  117.033637,  0.0,  1.167248,  0.0,  126.093411,  1.0,  0.0,  1.0,  0.0,  1.0,  0.868696,  0.0,  1.0,  0.0,  0.895246,  14.026719,  0.0,  26.759999,  0.0,  15.256367,  -16.858034,  -21.242171,  -7.76183,  -25.436074,  -16.135572,  -18.791859,  -24.805464,  -21.45982,  -27.690319,  -18.26152,  -16.648405,  -24.041386,  -4.474536,  -28.119826,  -16.089317,  3.0,  62.0,  6.0,  7.0,  256.0,  50023.0,  3.0,  14.0,  0.0,  0.0,  0.0,  1.0};
	double doc7[] = {3.0,  0.0,  3.0,  0.0,  3.0,  1.0,  0.0,  1.0,  0.0,  1.0,  489.0,  0.0,  4.0,  10.0,  503.0,  6.931275,  22.076928,  19.673353,  22.255383,  6.926551,  49.0,  0.0,  3.0,  0.0,  52.0,  4.0,  0.0,  1.0,  0.0,  5.0,  23.0,  0.0,  1.0,  0.0,  24.0,  16.333333,  0.0,  1.0,  0.0,  17.333333,  76.222222,  0.0,  0.0,  0.0,  76.222222,  0.100204,  0.0,  0.75,  0.0,  0.10338,  0.00818,  0.0,  0.25,  0.0,  0.00994,  0.047035,  0.0,  0.25,  0.0,  0.047714,  0.033401,  0.0,  0.25,  0.0,  0.03446,  3.19E-4,  0.0,  0.0,  0.0,  3.01E-4,  105.036047,  0.0,  19.673353,  0.0,  111.86548,  10.800916,  0.0,  5.373163,  0.0,  13.498277,  67.736176,  0.0,  7.985784,  0.0,  70.800844,  35.012016,  0.0,  6.557784,  0.0,  37.288493,  576.506755,  0.0,  1.167248,  0.0,  594.523969,  1.0,  0.0,  1.0,  0.0,  1.0,  0.860834,  0.0,  1.0,  0.0,  0.874593,  20.435484,  0.0,  26.759999,  0.0,  20.870281,  -11.206134,  -21.242171,  -7.76183,  -25.436074,  -10.938158,  -15.716023,  -24.805464,  -21.45982,  -27.690319,  -15.438229,  -11.276709,  -24.041386,  -4.474536,  -28.119826,  -11.05159,  3.0,  73.0,  0.0,  17.0,  115.0,  63318.0,  1.0,  3.0,  0.0,  0.0,  0.0,  2.0};
	double doc8[] = {3.0,  0.0,  3.0,  0.0,  3.0,  1.0,  0.0,  1.0,  0.0,  1.0,  1295.0,  2.0,  4.0,  7.0,  1308.0,  6.931275,  22.076928,  19.673353,  22.255383,  6.926551,  15.0,  0.0,  3.0,  0.0,  18.0,  3.0,  0.0,  1.0,  0.0,  4.0,  7.0,  0.0,  1.0,  0.0,  8.0,  5.0,  0.0,  1.0,  0.0,  6.0,  2.666667,  0.0,  0.0,  0.0,  2.666667,  0.011583,  0.0,  0.75,  0.0,  0.013761,  0.002317,  0.0,  0.25,  0.0,  0.003058,  0.005405,  0.0,  0.25,  0.0,  0.006116,  0.003861,  0.0,  0.25,  0.0,  0.004587,  2.0E-6,  0.0,  0.0,  0.0,  2.0E-6,  31.560172,  0.0,  19.673353,  0.0,  38.457194,  8.064899,  0.0,  5.373163,  0.0,  9.188786,  15.394586,  0.0,  7.985784,  0.0,  18.469785,  10.520057,  0.0,  6.557784,  0.0,  12.819065,  11.880727,  0.0,  1.167248,  0.0,  16.397251,  1.0,  0.0,  1.0,  0.0,  1.0,  0.960116,  0.0,  1.0,  0.0,  0.972952,  13.208906,  0.0,  26.759999,  0.0,  14.530013,  -17.299188,  -21.242171,  -7.76183,  -25.436074,  -16.624509,  -19.33689,  -24.805464,  -21.45982,  -27.690319,  -18.794758,  -17.137203,  -24.041386,  -4.474536,  -28.119826,  -16.567386,  3.0,  51.0,  1.1089534E7,  15.0,  124.0,  63363.0,  1.0,  3.0,  0.0,  0.0,  0.0,  1.0};
	double doc9[] = {3.0,  0.0,  3.0,  0.0,  3.0,  1.0,  0.0,  1.0,  0.0,  1.0,  510.0,  0.0,  4.0,  5.0,  519.0,  6.931275,  22.076928,  19.673353,  22.255383,  6.926551,  49.0,  0.0,  3.0,  0.0,  52.0,  4.0,  0.0,  1.0,  0.0,  5.0,  23.0,  0.0,  1.0,  0.0,  24.0,  16.333333,  0.0,  1.0,  0.0,  17.333333,  76.222222,  0.0,  0.0,  0.0,  76.222222,  0.096078,  0.0,  0.75,  0.0,  0.100193,  0.007843,  0.0,  0.25,  0.0,  0.009634,  0.045098,  0.0,  0.25,  0.0,  0.046243,  0.032026,  0.0,  0.25,  0.0,  0.033398,  2.93E-4,  0.0,  0.0,  0.0,  2.83E-4,  105.036047,  0.0,  19.673353,  0.0,  111.86548,  10.800916,  0.0,  5.373163,  0.0,  13.498277,  67.736176,  0.0,  7.985784,  0.0,  70.800844,  35.012016,  0.0,  6.557784,  0.0,  37.288493,  576.506755,  0.0,  1.167248,  0.0,  594.523969,  1.0,  0.0,  1.0,  0.0,  1.0,  0.860834,  0.0,  1.0,  0.0,  0.874593,  20.347854,  0.0,  26.759999,  0.0,  20.810034,  -11.331812,  -21.242171,  -7.76183,  -25.436074,  -11.031877,  -15.741228,  -24.805464,  -21.45982,  -27.690319,  -15.457345,  -11.402698,  -24.041386,  -4.474536,  -28.119826,  -11.145427,  2.0,  48.0,  1.0,  1.0,  541.0,  63363.0,  1.0,  5.0,  0.0,  0.0,  0.0,  0.0};
	double doc10[] = { 3.0,  0.0,  3.0,  0.0,  3.0,  1.0,  0.0,  1.0,  0.0,  1.0,  164.0,  1.0,  10.0,  10.0,  185.0,  6.931275,  22.076928,  19.673353,  22.255383,  6.926551,  7.0,  0.0,  3.0,  0.0,  10.0,  2.0,  0.0,  1.0,  0.0,  3.0,  3.0,  0.0,  1.0,  0.0,  4.0,  2.333333,  0.0,  1.0,  0.0,  3.333333,  0.222222,  0.0,  0.0,  0.0,  0.222222,  0.042683,  0.0,  0.3,  0.0,  0.054054,  0.012195,  0.0,  0.1,  0.0,  0.016216,  0.018293,  0.0,  0.1,  0.0,  0.021622,  0.014228,  0.0,  0.1,  0.0,  0.018018,  8.0E-6,  0.0,  0.0,  0.0,  6.0E-6,  15.014677,  0.0,  19.673353,  0.0,  21.928252,  3.456385,  0.0,  5.373163,  0.0,  4.594393,  6.157834,  0.0,  7.985784,  0.0,  9.234893,  5.004892,  0.0,  6.557784,  0.0,  7.309417,  1.29454,  0.0,  1.167248,  0.0,  3.900733,  1.0,  0.0,  1.0,  0.0,  1.0,  0.989585,  0.0,  1.0,  0.0,  0.995185,  17.086598,  0.0,  16.461859,  0.0,  18.680795,  -13.906925,  -21.242171,  -10.497324,  -25.436074,  -12.777452,  -19.937663,  -24.805464,  -21.468789,  -27.690319,  -19.028161,  -13.124289,  -24.041386,  -7.222766,  -28.119826,  -12.388381,  2.0,  44.0,  5.0,  30.0,  16711.0,  61690.0,  3.0,  4.0,  0.0,  0.0,  0.0,  0.0};
	List<double[][]> examples;
	
	@Before
	public void settings(){
		
		//Documents included in example 1
		double[][] example1 = {doc0,doc1,doc2,doc3,doc4};
		for (int i = 0; i < example1.length; i++) {
			System.out.println('\n');
			for (int j = 0; j < example1[i].length; j++) {
				System.out.print(" " + example1[i][j]);	
			}
			
		}
		System.out.println('\n');
		
		//Documents included in example 2
		double[][]example2 = {doc5,doc6,doc7};
	
		examples = new ArrayList<double[][]>();
		examples.add(example1);
		examples.add(example2);
	}
	
	@Test
	public void execute(){
		
		System.out.println("init..");
		
		RankPerceptron rp = new RankPerceptron(examples, 100);
		
		//Assert.assertEquals(rp.weights.length, 136);
		double[] weights = {1.0, 2.0, 3.0, 4.0, 5.0};
		rp.weights = weights;
		//rp.computeActivation( examples.get(0) );
		rp.training();
		System.out.println(rp.weights);
		
		
		
	}

}
